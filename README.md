# RikkaHub Desktop

跨平台高性能AI聊天客户端，基于Rust和GPUI构建

## 🚀 Windows 测试界面

本项目包含一个完整的Windows桌面端测试界面，用于测试AI对话功能。

### 功能特性

- 🎨 现代化深色主题UI界面
- 💬 实时聊天消息显示
- 🤖 连接本地API服务器
- 📊 连接状态指示
- 🎯 简洁直观的测试体验

### 系统要求

- Windows 10/11
- Rust 1.75+ (需要支持 2024 edition)
- 本地API服务器运行在 `http://localhost:3000`

### 构建和运行

#### 1. 克隆并进入项目

```bash
cd /path/to/rikkahub
```

#### 2. 启动本地API服务器

在第一个终端中：

```bash
cargo run --bin rikkahub-server
```

服务器将启动在 `http://localhost:3000`

#### 3. 构建并运行桌面客户端

在第二个终端中：

```bash
cargo run --bin rikkahub
```

或构建发布版本：

```bash
cargo build --release
./target/release/rikkahub.exe
```

### 界面说明

#### 标题栏
- 显示应用名称和版本信息
- 标识为"Windows 测试版本"

#### 工具栏
- 显示当前选择的AI模型
- 实时连接状态指示器：
  - 🟢 已连接 (绿色)
  - 🟡 连接中... (黄色)

#### 消息区
- 用户消息显示在右侧（蓝色背景）
- 助手回复显示在左侧（灰色背景）
- 支持滚动查看历史消息
- 空状态时显示欢迎界面和提示

#### 输入区
- 文本输入框用于输入测试消息
- 发送按钮（禁用状态：灰色，可用状态：蓝色）
- 显示"发送中..."状态

### 测试流程

1. **启动服务器**
   - 确保API服务器正常运行
   - 检查 `http://localhost:3000` 是否可访问

2. **打开客户端**
   - 启动桌面应用程序
   - 查看连接状态（应为"已连接"）

3. **发送测试消息**
   - 在输入框中输入测试内容
   - 点击"发送"按钮
   - 观察消息和回复

4. **验证功能**
   - 检查消息是否正确显示
   - 验证AI回复内容
   - 测试多次对话

### 故障排除

#### 连接失败
- 检查API服务器是否运行
- 确认端口3000未被占用
- 查看终端日志获取错误信息

#### 窗口无法显示
- 确保安装了必要的图形驱动
- 检查系统兼容性
- 尝试以管理员权限运行

#### 编译错误
- 更新Rust工具链：`rustup update`
- 清理构建缓存：`cargo clean`
- 检查依赖项版本

### 项目结构

```
rikkahub/
├── crates/
│   ├── rikkahub-core/     # 核心数据模型
│   ├── rikkahub-api/      # API路由和服务
│   ├── rikkahub-server/   # 后端服务器
│   └── rikkahub-desktop/  # 桌面客户端
│       ├── src/
│       │   ├── main.rs    # 应用入口
│       │   ├── app.rs     # UI组件
│       │   └── client.rs  # HTTP客户端
│       └── Cargo.toml
```

### 技术栈

- **UI框架**: GPUI 0.2.2
- **组件库**: gpui-component 0.5.0
- **HTTP客户端**: reqwest 0.12
- **异步运行时**: Tokio
- **日志**: tracing

### 后续计划

- [ ] 添加真实的输入框和键盘事件处理
- [ ] 实现发送按钮的点击事件
- [ ] 集成异步API调用
- [ ] 添加模型选择功能
- [ ] 支持会话管理
- [ ] 添加配置面板

## 许可证

MIT License
